{"ast":null,"code":"import { userAPI } from \"../api/api\";\nconst SET_USER_INFO = 'SET_USER_INFO';\nconst SET_USER_PHOTO = 'SET_USER_PHOTO';\nlet initialState = {\n  userData: {\n    id: null,\n    login: null\n  },\n  userPhoto: null\n};\n\nconst headerReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_INFO:\n      return { ...state,\n        userData: {\n          id: action.userData.id,\n          login: action.userData.login\n        }\n      };\n\n    case SET_USER_PHOTO:\n      return { ...state,\n        userPhoto: action.userPhoto\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport let setUserInfo = userData => ({\n  type: SET_USER_INFO,\n  userData\n});\nexport let setUserPhoto = userPhoto => ({\n  type: SET_USER_PHOTO,\n  userPhoto\n});\nexport let setProfileHeader = () => dispatch => {\n  userAPI.authMe().then(response => {\n    dispatch(setUserInfo(response.data.data));\n    userAPI.getProfile(response.data.data.id).then(response => {\n      dispatch(setUserPhoto(response.photos.small));\n    });\n  });\n};\nexport default headerReducer;","map":{"version":3,"sources":["/home/archi/MyProjects/React-redux-run-net/src/redux/header-reducer.js"],"names":["userAPI","SET_USER_INFO","SET_USER_PHOTO","initialState","userData","id","login","userPhoto","headerReducer","state","action","type","setUserInfo","setUserPhoto","setProfileHeader","dispatch","authMe","then","response","data","getProfile","photos","small"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,YAAtB;AAEA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,EAAE,EAAE,IADC;AAELC,IAAAA,KAAK,EAAE;AAFF,GADM;AAKfC,EAAAA,SAAS,EAAE;AALI,CAAnB;;AAQA,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACpD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKV,aAAL;AACI,aAAM,EACF,GAAGQ,KADD;AAEFL,QAAAA,QAAQ,EAAC;AACLC,UAAAA,EAAE,EAAGK,MAAM,CAACN,QAAP,CAAgBC,EADhB;AAELC,UAAAA,KAAK,EAAGI,MAAM,CAACN,QAAP,CAAgBE;AAFnB;AAFP,OAAN;;AAOJ,SAAKJ,cAAL;AACI,aAAM,EACF,GAAGO,KADD;AAEFF,QAAAA,SAAS,EAACG,MAAM,CAACH;AAFf,OAAN;;AAIJ;AAAS,aAAOE,KAAP;AAdb;AAgBH,CAjBD;;AAmBA,OAAO,IAAIG,WAAW,GAAIR,QAAD,KAAe;AAACO,EAAAA,IAAI,EAACV,aAAN;AAAqBG,EAAAA;AAArB,CAAf,CAAlB;AACP,OAAO,IAAIS,YAAY,GAAIN,SAAD,KAAgB;AAACI,EAAAA,IAAI,EAACT,cAAN;AAAsBK,EAAAA;AAAtB,CAAhB,CAAnB;AAEP,OAAO,IAAIO,gBAAgB,GAAG,MAAOC,QAAD,IAAc;AAC9Cf,EAAAA,OAAO,CAACgB,MAAR,GAAiBC,IAAjB,CAAsBC,QAAQ,IAAI;AAC9BH,IAAAA,QAAQ,CAACH,WAAW,CAACM,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAZ,CAAR;AACAnB,IAAAA,OAAO,CAACoB,UAAR,CAAmBF,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBd,EAAtC,EAA0CY,IAA1C,CAA+CC,QAAQ,IAAI;AACvDH,MAAAA,QAAQ,CAACF,YAAY,CAACK,QAAQ,CAACG,MAAT,CAAgBC,KAAjB,CAAb,CAAR;AACH,KAFD;AAGH,GALD;AAMH,CAPM;AAQP,eAAed,aAAf","sourcesContent":["import {userAPI} from \"../api/api\";\n\nconst SET_USER_INFO = 'SET_USER_INFO';\nconst SET_USER_PHOTO = 'SET_USER_PHOTO';\n\nlet initialState = {\n    userData:{\n        id: null,\n        login: null\n    },\n    userPhoto: null\n}\n\nconst headerReducer = (state = initialState, action) => {\n    switch(action.type){\n        case SET_USER_INFO:\n            return{\n                ...state,\n                userData:{\n                    id : action.userData.id,\n                    login : action.userData.login\n                },\n            };\n        case SET_USER_PHOTO:\n            return{\n                ...state,\n                userPhoto:action.userPhoto\n            };\n        default: return state;\n    }\n}\n\nexport let setUserInfo = (userData) => ({type:SET_USER_INFO, userData})\nexport let setUserPhoto = (userPhoto) => ({type:SET_USER_PHOTO, userPhoto})\n\nexport let setProfileHeader = () => (dispatch) => {\n    userAPI.authMe().then(response => {\n        dispatch(setUserInfo(response.data.data));\n        userAPI.getProfile(response.data.data.id).then(response => {\n            dispatch(setUserPhoto(response.photos.small))\n        })\n    })\n}\nexport default headerReducer;"]},"metadata":{},"sourceType":"module"}