{"ast":null,"code":"import userAPI from \"../api/api\";\nimport { setUserProfile } from \"./profile-reducer\";\nimport axios from \"axios\";\nconst SET_USER_INFO = 'SET_USER_INFO';\nconst SET_USER_PHOTO = 'SET_USER_PHOTO';\nlet initialState = {\n  userData: {\n    id: null,\n    login: null\n  },\n  userPhoto: null\n};\n\nconst headerReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_INFO:\n      return { ...state,\n        userData: {\n          id: action.userData.id,\n          login: action.userData.login\n        }\n      };\n\n    case SET_USER_PHOTO:\n      return { ...state,\n        userPhoto: action.userPhoto\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport let setUserInfo = userData => ({\n  type: SET_USER_INFO,\n  userData\n});\nexport let setUserPhoto = userPhoto => ({\n  type: SET_USER_PHOTO,\n  userPhoto\n});\nexport let setProfileHeader = () => dispatch => {\n  userAPI.authMe().then(data => {\n    this.props.setUserInfo(response.data.data);\n    axios.get(`https://social-network.samuraijs.com/api/1.0/profile/` + this.props.userData.id).then(response => {\n      this.props.setUserPhoto(response.data.photos.small);\n    });\n  });\n};\nexport default headerReducer;","map":{"version":3,"sources":["/home/archi/MyProjects/React-redux-run-net/src/redux/header-reducer.js"],"names":["userAPI","setUserProfile","axios","SET_USER_INFO","SET_USER_PHOTO","initialState","userData","id","login","userPhoto","headerReducer","state","action","type","setUserInfo","setUserPhoto","setProfileHeader","dispatch","authMe","then","data","props","response","get","photos","small"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,YAApB;AACA,SAAQC,cAAR,QAA6B,mBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,cAAc,GAAG,gBAAvB;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,EAAE,EAAE,IADC;AAELC,IAAAA,KAAK,EAAE;AAFF,GADM;AAKfC,EAAAA,SAAS,EAAE;AALI,CAAnB;;AAQA,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACpD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKV,aAAL;AACI,aAAM,EACF,GAAGQ,KADD;AAEFL,QAAAA,QAAQ,EAAC;AACLC,UAAAA,EAAE,EAAGK,MAAM,CAACN,QAAP,CAAgBC,EADhB;AAELC,UAAAA,KAAK,EAAGI,MAAM,CAACN,QAAP,CAAgBE;AAFnB;AAFP,OAAN;;AAOJ,SAAKJ,cAAL;AACI,aAAM,EACF,GAAGO,KADD;AAEFF,QAAAA,SAAS,EAACG,MAAM,CAACH;AAFf,OAAN;;AAIJ;AAAS,aAAOE,KAAP;AAdb;AAgBH,CAjBD;;AAmBA,OAAO,IAAIG,WAAW,GAAIR,QAAD,KAAe;AAACO,EAAAA,IAAI,EAACV,aAAN;AAAqBG,EAAAA;AAArB,CAAf,CAAlB;AACP,OAAO,IAAIS,YAAY,GAAIN,SAAD,KAAgB;AAACI,EAAAA,IAAI,EAACT,cAAN;AAAsBK,EAAAA;AAAtB,CAAhB,CAAnB;AAEP,OAAO,IAAIO,gBAAgB,GAAG,MAAOC,QAAD,IAAc;AAC9CjB,EAAAA,OAAO,CAACkB,MAAR,GAAiBC,IAAjB,CAAsBC,IAAI,IAAI;AAC1B,SAAKC,KAAL,CAAWP,WAAX,CAAuBQ,QAAQ,CAACF,IAAT,CAAcA,IAArC;AACAlB,IAAAA,KAAK,CAACqB,GAAN,CAAW,uDAAD,GAA0D,KAAKF,KAAL,CAAWf,QAAX,CAAoBC,EAAxF,EAA4FY,IAA5F,CAAiGG,QAAQ,IAAI;AACzG,WAAKD,KAAL,CAAWN,YAAX,CAAwBO,QAAQ,CAACF,IAAT,CAAcI,MAAd,CAAqBC,KAA7C;AACH,KAFD;AAGH,GALD;AAMH,CAPM;AAQP,eAAef,aAAf","sourcesContent":["import userAPI from \"../api/api\";\nimport {setUserProfile} from \"./profile-reducer\";\nimport axios from \"axios\";\n\nconst SET_USER_INFO = 'SET_USER_INFO';\nconst SET_USER_PHOTO = 'SET_USER_PHOTO';\n\nlet initialState = {\n    userData:{\n        id: null,\n        login: null\n    },\n    userPhoto: null\n}\n\nconst headerReducer = (state = initialState, action) => {\n    switch(action.type){\n        case SET_USER_INFO:\n            return{\n                ...state,\n                userData:{\n                    id : action.userData.id,\n                    login : action.userData.login\n                },\n            };\n        case SET_USER_PHOTO:\n            return{\n                ...state,\n                userPhoto:action.userPhoto\n            };\n        default: return state;\n    }\n}\n\nexport let setUserInfo = (userData) => ({type:SET_USER_INFO, userData})\nexport let setUserPhoto = (userPhoto) => ({type:SET_USER_PHOTO, userPhoto})\n\nexport let setProfileHeader = () => (dispatch) => {\n    userAPI.authMe().then(data => {\n        this.props.setUserInfo(response.data.data)\n        axios.get(`https://social-network.samuraijs.com/api/1.0/profile/` + this.props.userData.id).then(response => {\n            this.props.setUserPhoto(response.data.photos.small)\n        })\n    })\n}\nexport default headerReducer;"]},"metadata":{},"sourceType":"module"}