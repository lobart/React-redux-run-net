{"ast":null,"code":"import { userAPI } from \"../api/api\";\nconst SET_USER_INFO = 'header/SET_USER_INFO';\nconst SET_USER_PHOTO = 'header/SET_USER_PHOTO';\nlet initialState = {\n  userData: {\n    id: null,\n    login: null\n  },\n  userPhoto: null\n};\n\nconst headerReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_INFO:\n      return { ...state,\n        userData: {\n          id: action.userData.id,\n          login: action.userData.login\n        }\n      };\n\n    case SET_USER_PHOTO:\n      return { ...state,\n        userPhoto: action.userPhoto\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport let setUserInfo = userData => ({\n  type: SET_USER_INFO,\n  userData\n});\nexport let setUserPhoto = userPhoto => ({\n  type: SET_USER_PHOTO,\n  userPhoto\n});\nexport let setProfileHeader = () => async dispatch => {\n  let response = await userAPI.authMe();\n  dispatch(setUserInfo(response.data.data));\n  let response_id = await userAPI.getProfile(response.data.data.id);\n  dispatch(setUserPhoto(response_id.photos.small));\n};\nexport default headerReducer;","map":{"version":3,"sources":["/home/archi/MyProjects/React-redux-run-net/src/redux/header-reducer.js"],"names":["userAPI","SET_USER_INFO","SET_USER_PHOTO","initialState","userData","id","login","userPhoto","headerReducer","state","action","type","setUserInfo","setUserPhoto","setProfileHeader","dispatch","response","authMe","data","response_id","getProfile","photos","small"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,YAAtB;AAEA,MAAMC,aAAa,GAAG,sBAAtB;AACA,MAAMC,cAAc,GAAG,uBAAvB;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,EAAE,EAAE,IADC;AAELC,IAAAA,KAAK,EAAE;AAFF,GADM;AAKfC,EAAAA,SAAS,EAAE;AALI,CAAnB;;AAQA,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACpD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKV,aAAL;AACI,aAAM,EACF,GAAGQ,KADD;AAEFL,QAAAA,QAAQ,EAAC;AACLC,UAAAA,EAAE,EAAGK,MAAM,CAACN,QAAP,CAAgBC,EADhB;AAELC,UAAAA,KAAK,EAAGI,MAAM,CAACN,QAAP,CAAgBE;AAFnB;AAFP,OAAN;;AAOJ,SAAKJ,cAAL;AACI,aAAM,EACF,GAAGO,KADD;AAEFF,QAAAA,SAAS,EAACG,MAAM,CAACH;AAFf,OAAN;;AAIJ;AAAS,aAAOE,KAAP;AAdb;AAgBH,CAjBD;;AAmBA,OAAO,IAAIG,WAAW,GAAIR,QAAD,KAAe;AAACO,EAAAA,IAAI,EAACV,aAAN;AAAqBG,EAAAA;AAArB,CAAf,CAAlB;AACP,OAAO,IAAIS,YAAY,GAAIN,SAAD,KAAgB;AAACI,EAAAA,IAAI,EAACT,cAAN;AAAsBK,EAAAA;AAAtB,CAAhB,CAAnB;AAEP,OAAO,IAAIO,gBAAgB,GAAG,MAAM,MAAMC,QAAN,IAAmB;AACnD,MAAIC,QAAQ,GAAG,MAAMhB,OAAO,CAACiB,MAAR,EAArB;AACAF,EAAAA,QAAQ,CAACH,WAAW,CAACI,QAAQ,CAACE,IAAT,CAAcA,IAAf,CAAZ,CAAR;AACA,MAAIC,WAAW,GAAG,MAAMnB,OAAO,CAACoB,UAAR,CAAmBJ,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBb,EAAtC,CAAxB;AACAU,EAAAA,QAAQ,CAACF,YAAY,CAACM,WAAW,CAACE,MAAZ,CAAmBC,KAApB,CAAb,CAAR;AACH,CALM;AAMP,eAAed,aAAf","sourcesContent":["import {userAPI} from \"../api/api\";\n\nconst SET_USER_INFO = 'header/SET_USER_INFO';\nconst SET_USER_PHOTO = 'header/SET_USER_PHOTO';\n\nlet initialState = {\n    userData:{\n        id: null,\n        login: null\n    },\n    userPhoto: null\n}\n\nconst headerReducer = (state = initialState, action) => {\n    switch(action.type){\n        case SET_USER_INFO:\n            return{\n                ...state,\n                userData:{\n                    id : action.userData.id,\n                    login : action.userData.login\n                },\n            };\n        case SET_USER_PHOTO:\n            return{\n                ...state,\n                userPhoto:action.userPhoto\n            };\n        default: return state;\n    }\n}\n\nexport let setUserInfo = (userData) => ({type:SET_USER_INFO, userData})\nexport let setUserPhoto = (userPhoto) => ({type:SET_USER_PHOTO, userPhoto})\n\nexport let setProfileHeader = () => async(dispatch) => {\n    let response = await userAPI.authMe();\n    dispatch(setUserInfo(response.data.data));\n    let response_id = await userAPI.getProfile(response.data.data.id);\n    dispatch(setUserPhoto(response_id.photos.small))\n}\nexport default headerReducer;"]},"metadata":{},"sourceType":"module"}